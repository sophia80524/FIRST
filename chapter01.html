<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Chapter 1</title>
<link href="css/chap1.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
</head>

<body onload="window.resizeTo(1280,760);" onResize="window.resizeTo(1280,760)">
  <iframe src="picture/silence.mp3" allow="autoplay" id="audio" style="display:none"></iframe>

  <audio id="audio" loop autoplay>
<source src="picture/水聲.mp3" type="audio/mp3">
</audio>

<img id="start" src="picture/bg001/一開.png" width="1300px" height="auto" alt=""/>
<img id="end" src="picture/bg001/一關.png" width="1300px" height="auto" alt=""/>

<div class="wrap">
  
  <div id="mouseglow"  onmouseout="clearChar()" >

  <div class="creature">
  <img onclick="chatbox('octC')" id="oct" src="picture/bg001/1/章魚/章魚new_0.png" width="15%" height="auto" alt=""/>
  <img id="octC" src="picture/bg001/1/chat/章魚對話框.png" width="160" height="auto" alt=""/>

<img onclick="chatbox('starC')" id="star" src="picture/bg001/1/海星png/海星_0.png" width="5%" height="auto" alt=""/>
 <img id="starC" src="picture/bg001/1/chat/海星對話框.png" width="140" height="auto" alt=""/>

<img onclick="chatbox('urcC')"  id="urchine" src="picture/bg001/1/海膽/海膽_0.png" width="5%" height="auto" alt=""/>
 <img id="urcC" src="picture/bg001/1/chat/海膽對話框.png" width="150" height="auto" alt=""/>

<img onclick="chatbox('horseC')" id="horse" src="picture/bg001/1/海馬png/海馬_0.png" width="8%" height="auto" alt=""/>
 <img id="horseC" src="picture/bg001/1/chat/海馬對話框.png" width="190" height="auto" alt=""/>

<img onclick="chatbox('dolC')"  id="dolphin" src="picture/bg001/1/海豚/海豚_0.png" width="20%" height="auto" alt=""/>
 <img id="dolC" src="picture/bg001/1/chat/海豚對話框.png" width="230" height="auto" alt=""/>

 <img id="purpleJelly" src="picture/purple/p2_0.png" width="120px" height="auto">

  <img id="fish" src="picture/fish pink/fish pink_0.png" width="220px" height="auto">



<img onclick="chatbox('lightC')"  id="light" src="picture/bg001/1/燈籠魚/燈籠魚_0.png" width="22%" height="auto" alt=""/>
  <img id="lightC" src="picture/bg001/1/chat/燈籠魚對話框 .png" width="190" height="auto" alt=""/>


<img onclick="canPng()" id="can" src="picture/bg001/1/can.png" width="2%" height="auto" alt=""/>

</div>
 <div id="jelly_Mouse">
 	<img  id="yellowJelly" src="picture/yellow/y_0.png" width="150px" height="auto">
 </div>
</div>

  <div class="bg">
	 <!-- <div id="particles-js"></div>-->
  </div>



</div>

  
    






<script>

var lFollowX = 0,
    lFollowY = 0,
    x = 0,
    y = 0,
    friction = 1 / 20;

$(window).load(function moveBackground() {
  x += (lFollowX - x) * friction;
  y += (lFollowY - y) * friction;
  
  translate = 'translate(' + x + 'px, ' + y + 'px) scale(1.1)';

  $('.bg').css({
    '-webit-transform': translate,
    '-moz-transform': translate,
    'transform': translate
  });

  $('.creature').css({
    '-webit-transform': translate,
    '-moz-transform': translate,
    'transform': translate
  });


  window.requestAnimationFrame(moveBackground);
});


$(window).on('mousemove', function(e) {

  var lMouseX = Math.max(-300, Math.min(300, $(window).width() / 2 - e.clientX));
  var lMouseY = Math.max(-300, Math.min(300, $(window).height() / 2 - e.clientY));
  lFollowX = (20 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow
  lFollowY = (10 * lMouseY) / 100;

});

moveBackground();
</script>


  <!--jelly mouse--> 
  
<script>

var preX=0;
var preY=0;
	
document.getElementById("mouseglow").addEventListener("mousemove", showChar);
	
function showChar(e) {
	document.getElementById('jelly_Mouse').style.display="block";
    var a = e.clientX;
    var b = e.clientY; 
	var a1 = document.getElementById("jelly_Mouse").style.left= a - 85 + "px";
  var a2 = a + "px";
	var b1 = document.getElementById("jelly_Mouse").style.top= b - 100 + "px";	



    if (a > preX){
    document.getElementById("yellowJelly").style.transform="rotate(20deg) scaleX(1)";
  }
  

  else {
  document.getElementById("yellowJelly").style.transform=" rotate(340deg) scaleX(-1)";
  }

  preX=e.clientX;


}


	
function clearChar(){
	document.getElementById('jelly_Mouse').style.display="none";
}	




</script>   
    
<!--mouse glow-->
<script>
		$(function() {
			
			var originalBGplaypen = $("#mouseglow").css("background-image"),	
			    x, y, xy, bgWebKit, bgMoz, 
			    lightColor = "rgba(180,255,245,0.75)",
			    gradientSize = 150;
					
				$('#mouseglow').mousemove(function(e) {
				
					x  = e.pageX - this.offsetLeft;
					y  = e.pageY - this.offsetTop;
					xy = x + " " + y;
					   
					bgWebKit = "-webkit-gradient(radial, " + xy + ", 0, " + xy + ", " + gradientSize + ", from(" + lightColor + "), to(rgba(255,255,255,0.0))), " + originalBGplaypen;
					bgMoz    = "-moz-radial-gradient(" + x + "px " + y + "px 45deg, circle, " + lightColor + " 0%, " + originalBGplaypen + " " + gradientSize + "px)";
										
					$(this)
						.css({ background: bgWebKit })
						.css({ background: bgMoz })

					
					
				}).mouseleave(function() {			
					$(this).css({ background: originalBGplaypen });
				});
			
				
		});
	
	
</script> 



<!--bg & characters-->
<script>

	var yellowT;
	var countYellow = 0;

	var starT;
	var countStar = 0;

	var dolphinT;
	var countDolphin = 0;

	var urchineT;
	var countUrchine = 0;

	var horseT;
	var countHorse = 0;

	var lightT;
	var countLight = 0;

  var octT;
  var countOct = 0;

  var purT;
  var countPur = 0;

  var fishT;
  var countFish = 0;

	window.addEventListener("load", pngAll);
	var yellow = document.getElementById("yellowJelly");
	var star = document.getElementById("star");
	var dolphin = document.getElementById("dolphin");
	var urchine = document.getElementById("urchine");
	var horse = document.getElementById("horse");
	var light = document.getElementById("light");
  var oct = document.getElementById("oct");
  var pur = document.getElementById("purpleJelly");
  var fish = document.getElementById("fish");
	
	function pngAll(){
	yellowT = setInterval("yellowPng()",70);	
	starT = setInterval("starPng()",70);
	dolphinT = setInterval("dolphinPng()",70);
	urchineT = setInterval("urchinePng()",80);
	horseT = setInterval("horsePng()",70);
	lightT = setInterval("lightPng()",90);
  octT = setInterval("octPng()",70);
  purT = setInterval("purPng()",80);
  fishT = setInterval("fishPng()",80);

  setInterval(function(){	document.getElementById("start").style.opacity="0";
	document.getElementById("start").style.WebkitTransition = "opacity 5s";},1000);

}	

function fishPng(){
  countFish ++;
  if (countFish > 31){
    countFish = 0;
  }
  

  else{
  var s = "picture/fish pink/fish pink_" + countFish + ".png";
  fish.src = s;
  }
}

function purPng(){
  countPur ++;
  if (countPur > 88){
    countPur = 0;
  }
  

  else{
  var s = "picture/purple/p2_" + countPur + ".png";
  pur.src = s;
  }
}


function yellowPng(){
	countYellow ++;
	if (countYellow > 88){
		countYellow = 0;
	}
	

	else{
	var s = "picture/yellow/y_" + countYellow + ".png";
	yellow.src = s;
	}
}

function starPng(){
	countStar ++;
	if (countStar > 29){
		countStar = 0;
	}
	

	else{
	var s = "picture/bg001/1/海星png/海星_" + countStar + ".png";
	star.src = s;
	}
}

function dolphinPng(){
	countDolphin ++;
	if (countDolphin > 149){
		countDolphin = 0;
	}
	

	else{
	var s = "picture/bg001/1/海豚/海豚_" + countDolphin + ".png";
	dolphin.src = s;
	}
}	

function urchinePng(){
	countUrchine ++;
	if (countUrchine > 149){
		countUrchine = 0;
	}
	

	else{
	var s = "picture/bg001/1/海膽/海膽_" + countUrchine + ".png";
	urchine.src = s;
	}
}

function horsePng(){
	countHorse ++;
	if (countHorse > 89){
		countHorse = 0;
	}
	

	else{
	var s = "picture/bg001/1/海馬png/海馬_" + countHorse + ".png";
	horse.src = s;
	}
}

function lightPng(){
	countLight ++;
	if (countLight > 149){
		countLight = 0;
	}
	

	else{
	var s = "picture/bg001/1/燈籠魚/燈籠魚_" + countLight + ".png";
	light.src = s;
	}
}

function octPng(){
  countOct ++;
  if (countOct > 149){
    countOct = 0;
  }
  

  else{
  var s = "picture/bg001/1/章魚/章魚new_" + countLight + ".png";
  oct.src = s;
  }
} 

document.getElementById("on1").onclick = function() {chatbox()};


function chatbox(c){
  //document.getElementById(c).style.opacity="1";
  //document.getElementById(c).style.WebkitTransition="opacity 1s"
  document.getElementById(c).style.animation="floatchat 5s";

}

//ending

function canPng(){

  document.getElementById("fish").style.left="-200px";
  document.getElementById("fish").style.WebkitTransition="left 7s"

  setInterval(function(){	document.getElementById("end").style.opacity="1";
	document.getElementById("end").style.WebkitTransition = "opacity 5s";

  setInterval(function(){ location.href="indexI.html"; }, 8000);},7000)



}




		

</script>	

</body>
</html>
